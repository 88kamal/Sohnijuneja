/*! Built with http://stenciljs.com */
var __generator=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};InstagramFeed.loadBundle("mxtdqzuy",["exports"],function(t){var e=window.InstagramFeed.h;function n(t,e,n,o){for(var i,s=t.textContent;s.length>1&&-1!=(i=s.lastIndexOf(" "));){if(t.textContent=s.substring(0,i),e.scrollHeight<=n){t.textContent=s;break}s=t.textContent}return function(t,e,n,o){for(var i=t.textContent,s=i.length;s>1;)if(s=(i=i.substring(0,s-1).replace(r,"")).length,t.textContent=i+o,e.scrollHeight<=n)return!0;return!1}(t,e,n,o)}var r=/[ .,;!?'‘’“”\-–—]+$/,o=function(t,e,r){t.style.cssText+="overflow:hidden;overflow-wrap:break-word;word-wrap:break-word";var o=(e||1)*parseInt(window.getComputedStyle(t).lineHeight,10);t.scrollHeight<=o||function t(e,r,o,i){for(var s=e.childNodes,a=s.length-1;a>-1;){var u=s[a--],l=u.nodeType;if(1==l&&t(u,r,o,i)||3==l&&n(u,r,o,i))return!0;e.removeChild(u)}return!1}(t,t,o,r&&r.ellipsis||"…")},i=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},s=function(){function t(){this.count=8,this.even=!1,this.captions=!1,this.link=!0,this.permalinks=!1}return t.prototype.componentWillLoad=function(){this.fetchItems()},t.prototype.componentDidLoad=function(){var t=this;this.even||(this.resizeAllGridItems(),window.addEventListener("resize",function(){t.resizeAllGridItems()}))},t.prototype.componentDidUpdate=function(){this.even||setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)},t.prototype.resizeGridItem=function(t){return i(this,void 0,void 0,function(){var e,n,r,o;return __generator(this,function(i){return e=this.element.querySelector(".grid"),n=parseInt(window.getComputedStyle(e).getPropertyValue("grid-auto-rows")),r=parseInt(window.getComputedStyle(e).getPropertyValue("grid-row-gap")),o=Math.ceil((t.querySelector(".content").getBoundingClientRect().height+r)/(n+r)),t.style.gridRowEnd="span "+o,[2]})})},t.prototype.resizeAllGridItems=function(){return i(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){for(t=this.element.querySelectorAll(".item"),e=0;e<t.length;e++)this.resizeGridItem(t[e]);return this.clampCaptions(),[2]})})},t.prototype.clampCaptions=function(){return i(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){for(t=this.element.querySelectorAll(".caption p"),e=0;e<t.length;++e)o(t[e],2);return[2]})})},t.prototype.url=function(){return"https://api.instagram.com/v1/users/"+this.user+"/media/recent/?access_token="+this.token+"&count="+this.count},t.prototype.fetchItems=function(){return i(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,fetch(this.url())];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),localStorage.setItem("instagram-feed-"+this.count+"-"+this.user,JSON.stringify(t)),this.photos=t.data,[2]}})})},t.prototype.renderCaptions=function(t){return e("div",{class:"caption"},e("p",null,t.caption.text))},t.prototype.renderPhoto=function(t){var n=this.permalinks?"a":"div";return e(n,{class:"item",href:t.link,target:"_blank"},e("div",{class:"content"},e("smart-image",{preload:t.images.thumbnail.url,width:t.images.standard_resolution.width,height:t.images.standard_resolution.height,square:this.even,fill:this.even},e("source",{srcSet:t.images.low_resolution.url,media:"(max-width: 600px)"}),e("source",{srcSet:t.images.standard_resolution.url,media:"(min-width: 600px)"})),this.captions&&t.caption&&this.renderCaptions(t)))},t.prototype.render=function(){var t=this;return e("div",null,e("div",{class:"grid "+(this.even?"even":"")},this.photos&&this.photos.map(function(e){return t.renderPhoto(e)})),this.link&&e("div",{class:"view-more"},e("a",{href:"https://instagram.com/"+this.user},"View more on Instagram")))},Object.defineProperty(t,"is",{get:function(){return"instagram-feed"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{captions:{type:Boolean,attr:"captions"},count:{type:Number,attr:"count"},element:{elementRef:!0},even:{type:Boolean,attr:"even"},link:{type:Boolean,attr:"link"},permalinks:{type:Boolean,attr:"permalinks"},photos:{state:!0},token:{type:String,attr:"token"},user:{type:String,attr:"user"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"instagram-feed{display:block;width:100%;overflow:hidden}instagram-feed .grid:not(.even){display:grid;grid-gap:1px 5px;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));grid-auto-rows:1px}instagram-feed .grid.even>.item{display:inline-block;float:left;vertical-align:top;height:25%;width:25%}instagram-feed .grid.even{border-spacing:16px;clear:both;overflow:hidden}\@media (max-width:700px){instagram-feed .grid.even>.item{display:inline-block;float:left;vertical-align:top;height:50%;width:50%}}\@media (max-width:400px){instagram-feed .grid.even>.item{display:inline-block;float:left;vertical-align:top;height:100%;width:100%}}instagram-feed .grid.even .item{overflow:hidden}instagram-feed .content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;overflow:hidden}instagram-feed .content p{margin:0;font-size:16px;line-height:24px}instagram-feed .content .caption{-webkit-transition:all .25s;transition:all .25s;position:absolute;overflow:hidden;bottom:4px;z-index:10;width:100%;padding:20px;-webkit-box-sizing:border-box;box-sizing:border-box;background:0 0}instagram-feed .content .caption::after{content:\"\";position:absolute;display:block;top:0;left:0;z-index:-1;width:100%;height:100%;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,0)),color-stop(80%,rgba(255,255,255,.9)));background:linear-gradient(to bottom,rgba(255,255,255,0) 0,rgba(255,255,255,.9) 80%)}instagram-feed .content:hover .caption{background:#fff}instagram-feed .view-more{padding-top:50vh;margin-top:-50vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:auto;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}"},enumerable:!0,configurable:!0}),t}();t.InstagramFeed=s,Object.defineProperty(t,"__esModule",{value:!0})});