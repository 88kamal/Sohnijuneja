{"ast":null,"code":"var _jsxFileName = \"/Users/kamalnayanupadhyay/Downloads/SJ-MakeupArtist-main/src/components/Confirmation/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./index.css\";\nimport { useForm } from \"react-hook-form\";\nimport { useRecoilValue } from \"recoil\";\nimport { reposState } from \"../Modal/state\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Index() {\n  _s();\n\n  const [paBtn, setpaBtn] = React.useState(false);\n  const [datta, setDatta] = React.useState();\n  const [discription, setDiscription] = React.useState();\n  const view = useRecoilValue(reposState);\n  const navigate = useNavigate(); // let discription =\"\";\n  // const [product] = React.useState({\n  //     name: \"Dummy name\",\n  //     price: 399.00,\n  //     description: \"descriptionnnnn\",\n  //     bought:\"one\",\n  //   });\n\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n\n  const onSubmit = data => {\n    setDatta(data);\n    console.log(data);\n    setpaBtn(true);\n    setDiscription(`\n        Email=${data.email},\n        Name=${data.name},\n        Phone Number=${data.phone},\n        Artist=${view.artist},\n        Location=${data.location},\n        Date=${view.date},\n        Time=${view.time},\n        Paid=${view.paymentMeth},\n        price=${view.price}\n        `);\n    console.log(discription);\n    console.log(data);\n  };\n\n  async function handleToken(token, addresses) {\n    console.log(discription);\n    const product = {\n      name: datta.name,\n      price: view.price,\n      description: discription\n    };\n    const response = await axios.post( // https://pay-backend13.herokuapp.com/checkout\n    \"https://pay-backend13.herokuapp.com/checkout\", {\n      token,\n      product\n    });\n    const {\n      status\n    } = response.data;\n    console.log(\"Response:\", response);\n    console.log(\"Response:\", status);\n    console.log(status === \"success\");\n\n    if (status === \"success\") {\n      toast(\"Success! Check email for details\", {\n        type: \"success\"\n      });\n      navigate(\"/congrats\");\n      console.log(status === \"success\");\n    } else {\n      toast(\"Something went wrong\", {\n        type: \"error\"\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainConfirm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"CONFIRM BOOKING\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block1\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"mainImg\",\n            src: \"./Images/Rectangle 98.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bridalCont\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title\",\n              children: \"BRIDAL LOOK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sing\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: view.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sing\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: view.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singg locSing\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"SJ Studio Dehradun\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Msing location\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"location\",\n              ...register(\"location\", {\n                required: true\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"one\",\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"two\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"three\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ...register(\"name\", {\n                required: true\n              }),\n              placeholder: \"Enter Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Phone No:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ...register(\"phone\", {\n                required: true\n              }),\n              placeholder: \"Enter Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              ...register(\"email\", {\n                required: true\n              }),\n              placeholder: \"Enter Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"section2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"PAYMENT DETAILS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"finalPayment\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singgg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Advance Booking Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: view.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singgg underline\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"GST :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"singgg underline\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: view.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkCont\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              ...register(\"agreee\", {\n                required: true\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"I agree to all the\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"underline\",\n                children: \"TERMS AND CONDITIONS \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), !paBtn && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"submitt\",\n        value: \"PROCEED TO PAYMENT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), paBtn && /*#__PURE__*/_jsxDEV(StripeCheckout, {\n      token: handleToken,\n      stripeKey: process.env.REACT_APP_PUB_KEY // billingAddress\n      ,\n      shippingAddress: false,\n      amount: view.price * 100 // name={\" name213132\"}\n      ,\n      currency: \"INR\",\n      zipCode: false,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payyCont\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"payy btn btn-primary\",\n          children: \"Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"xX1TLufpFELtzH9qK7mwlcXRawI=\", false, function () {\n  return [useRecoilValue, useNavigate, useForm];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/kamalnayanupadhyay/Downloads/SJ-MakeupArtist-main/src/components/Confirmation/index.jsx"],"names":["React","useForm","useRecoilValue","reposState","toast","axios","StripeCheckout","useNavigate","Index","paBtn","setpaBtn","useState","datta","setDatta","discription","setDiscription","view","navigate","register","handleSubmit","formState","errors","onSubmit","data","console","log","email","name","phone","artist","location","date","time","paymentMeth","price","handleToken","token","addresses","product","description","response","post","status","type","required","process","env","REACT_APP_PUB_KEY"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./index.css\";\nimport { useForm } from \"react-hook-form\";\nimport { useRecoilValue } from \"recoil\";\nimport { reposState } from \"../Modal/state\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Index() {\n  const [paBtn, setpaBtn] = React.useState(false);\n  const [datta, setDatta] = React.useState();\n  const [discription, setDiscription] = React.useState();\n  const view = useRecoilValue(reposState);\n  const navigate = useNavigate();\n  // let discription =\"\";\n  // const [product] = React.useState({\n  //     name: \"Dummy name\",\n  //     price: 399.00,\n  //     description: \"descriptionnnnn\",\n  //     bought:\"one\",\n  //   });\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  const onSubmit = (data) => {\n    setDatta(data);\n    console.log(data);\n    setpaBtn(true);\n    setDiscription(`\n        Email=${data.email},\n        Name=${data.name},\n        Phone Number=${data.phone},\n        Artist=${view.artist},\n        Location=${data.location},\n        Date=${view.date},\n        Time=${view.time},\n        Paid=${view.paymentMeth},\n        price=${view.price}\n        `);\n    console.log(discription);\n    console.log(data);\n  };\n  async function handleToken(token, addresses) {\n    console.log(discription);\n    const product = {\n      name: datta.name,\n      price: view.price,\n      description: discription,\n    };\n    const response = await axios.post(\n      // https://pay-backend13.herokuapp.com/checkout\n      \"https://pay-backend13.herokuapp.com/checkout\",\n      { token, product }\n    );\n    const { status } = response.data;\n    console.log(\"Response:\", response);\n    console.log(\"Response:\", status);\n    console.log( status === \"success\");\n\n    if (status === \"success\") {\n      toast(\"Success! Check email for details\", { type: \"success\" });\n      navigate(\"/congrats\");\n    console.log( status === \"success\");\n\n    } else {\n      toast(\"Something went wrong\", { type: \"error\" });\n    }\n  }\n  return (\n    <div className=\"mainConfirm\">\n      <h1>CONFIRM BOOKING</h1>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <section className=\"section1\">\n          <div className=\"block1\">\n            <img className=\"mainImg\" src=\"./Images/Rectangle 98.png\"></img>\n\n            <div className=\"bridalCont\">\n              <span className=\"title\">BRIDAL LOOK</span>\n              <div className=\"info\">\n                {/* <div className=\"sing\"><span>Event: </span><span>{view.location}</span></div>\n            <div className=\"sing\"><span>Artist:</span><span>{view.artist}</span></div> */}\n                <div className=\"sing\">\n                  <span>Date:</span>\n                  <span>{view.date}</span>\n                </div>\n                <div className=\"sing\">\n                  <span>Time:</span>\n                  <span>{view.time}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"inputs\">\n            <div className=\"singg locSing\">\n              <span>Location:</span>\n              <span>SJ Studio Dehradun</span>\n            </div>\n            <div className=\"Msing location\">\n              <label>Location:</label>\n              <br></br>\n              <select\n                className=\"location\"\n                {...register(\"location\", { required: true })}\n              >\n                <option value=\"one\">Select</option>\n                <option value=\"two\">1</option>\n                <option value=\"three\">2</option>\n              </select>\n            </div>\n            <div className=\"singg\">\n              <span>Name:</span>\n              <input\n                type=\"text\"\n                {...register(\"name\", { required: true })}\n                placeholder=\"Enter Name\"\n              />\n            </div>\n            <div className=\"singg\">\n              <span>Phone No:</span>\n              <input\n                type=\"text\"\n                {...register(\"phone\", { required: true })}\n                placeholder=\"Enter Phone Number\"\n              />\n            </div>\n            <div className=\"singg\">\n              <span>Email:</span>\n              <input\n                type=\"text\"\n                {...register(\"email\", { required: true })}\n                placeholder=\"Enter Email\"\n              />\n            </div>\n          </div>\n        </section>\n        <section className=\"section2\">\n          <h2>PAYMENT DETAILS</h2>\n          <div className=\"finalPayment\">\n            <div className=\"singgg\">\n              <span>Advance Booking Amount:</span>\n              <span>{view.price}</span>\n            </div>\n            <div className=\"singgg underline\">\n              <span>GST :</span>\n              <span>0</span>\n            </div>\n            <div className=\"singgg underline\">\n              <span>Total :</span>\n              <span>{view.price}</span>\n            </div>\n\n            <div className=\"checkCont\">\n              <input\n                type=\"checkbox\"\n                {...register(\"agreee\", { required: true })}\n              />{\" \"}\n              <span>\n                I agree to all the{\" \"}\n                <span className=\"underline\">TERMS AND CONDITIONS </span>\n              </span>\n            </div>\n          </div>\n        </section>\n        {/* <span action={handleSubmit(onSubmit)} className=\"submitt\">PROCEED TO PAYMENT</span> */}\n        {!paBtn && (\n          <input type=\"submit\" className=\"submitt\" value=\"PROCEED TO PAYMENT\" />\n        )}\n      </form>\n      {paBtn && (\n        <StripeCheckout\n          token={handleToken}\n          stripeKey={process.env.REACT_APP_PUB_KEY}\n          // billingAddress\n          shippingAddress={false}\n          amount={view.price * 100}\n          // name={\" name213132\"}\n          currency=\"INR\"\n          zipCode={false}\n        >\n          <div className=\"payyCont\">\n            <button className=\"payy btn btn-primary\">Pay</button>\n          </div>\n        </StripeCheckout>\n      )}\n    </div>\n  );\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}